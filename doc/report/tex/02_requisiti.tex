\section{Requisiti}

%questa sezione deve essere sufficiente per uno sviluppatore per giungere ad un sistema che fa quello che fa il nostro

%Attenzione in particolare ai requirement non funzionali: 1) non siano troppo vaghi altrimenti sono inverificabili, e quindi praticamente inutili; 2) se il sistema è distribuito, è inevitable dire cosa vi aspettate in termini di di robustezza a cambiamenti/guasti (quali?, come?), e scalabilità (in quale dimensione? fino a che punto?).

%------------------------------------------------------------------------------------

\subsection{Business}

La libreria consentirà di realizzare giochi da tavolo con le seguenti caratteristiche:

\begin{itemize}
    \item Giochi basati sul movimento di \textit{pawn} all'interno di \textit{board};
    \item Giochi a informazione perfetta\footnote{\url{https://it.wikipedia.org/wiki/Gioco_a_informazione_completa}};
    \item Giochi in cui è necessario gestire lo sviluppo della partita (turni, condizioni di vittoria, vincitore della partita, ...)
\end{itemize}

In paricolare deve essere possibile realizzare i seguenti giochi:

\begin{itemize}
    \item ``\textbf{Put-In-Put-Out}'': un gioco dove l'utente può piazzare e rimuovere \textit{pawn} dalla \textit{board}, senza ulteriori funzionalità;
    \item ``\textbf{Tic-Tac-Toe}'': il gioco del tris, in cui a turno due giocatori piazzano in una \textit{tile} di una \textit{board} 3x3 il proprio simbolo (solitamente una X o una O). Vince il giocatore che riesce a disporre tre dei propri \textit{pawn} in linea retta orizzontale, verticale o diagonale. Se la \textit{board} viene riempita senza che nessuno dei giocatori sia riuscito a vincere, il gioco finisce in parità.
    \item ``\textbf{Connect Four}'': Forza4 è un gioco basato su \textit{board} 6x7, all'interno della quale si possono posizionare dei \textit{pawn} solo nella prima \textit{tile} libera di ogni colonna. In particolare due giocatori, in modo alternato, inseriscono uno dei propri \textit{pawn} all'interno di una colonna. Il vincitore è colui che riesce a disporre quattro dei propri \textit{pawn} adiacenti in linea retta orizzontale, verticale o diagonale, nel caso la \textit{board} viene riempita senza che nessuno dei giocatori sia riuscito a vincere, il gioco finisce in parità.
    \item ``\textbf{Othello}'': un gioco basato su \textit{board} 8x8, che prevede la presenza di due giocatori ai quali è assegnato un colore (solitamente bianco o nero). Il gioco inizia con due \textit{pawn} per giocatore poste nelle \textit{tile} centrali a formare una 'X'. Il turni dei giocatori sono alternati, e durante ognuno di essi un giocatore può posizionare un suo \textit{pawn} in modo da imprigionare uno o più \textit{pawn} dell'avversario tra quello posizionato e altri suoi \textit{pawn}: ogni \textit{pawn} imprigionato diventa del giocatore di turno; in mancanza di mosse disponibili il giocatore deve passare il turno. L'obiettivo del gioco è di avere più \textit{pawn} dell'avversario sulla \textit{board} quando non ci sono più mosse disponibili o quando la \textit{board} è piena.
\end{itemize}

%------------------------------------------------------------------------------------
\subsection{Utente}

Uno sviluppatore che utilizzerà la libreria dovrà prima dare una specifica del gioco utilizzando i costrutti messi a disposizione dalla stessa, e successivamente potrà usufruire del gioco generato da tali specifiche fornendovi dei comandi appositi.
%
In particolare l'utente può definire i seguenti aspetti statici:
%
\begin{itemize}
    \item rappresentazione dei \textit{pawn} all'interno del gioco:
          \begin{itemize}
              \item definizione del tipo base;
              \item definizione dei pawn specifici, i quali devono essere sottotipi del \textit{pawn} base;
          \end{itemize}
    \item rappresentazione delle \textit{tile} e del modo in cui compongono la \textit{board}:
          \begin{itemize}
              \item fornendo il tipo;
              \item fornendo la disposizione (e.g. \textit{board} rettangolare);
          \end{itemize}
    \item definizione della \textit{game description} che prevede: 
        \begin{itemize}
            \item definizione del tipo delle \textit{move}
            \item definizione del \textit{game state} iniziale;
            \item definizione del \textit{ruleSet};
        \end{itemize}
    \item definizione delle \textit{move} e di come modificano il \textit{game state};
    \item definizione del tipo di Gui da utilizzare e eventuali inizializzazioni necessarie.
\end{itemize}
%%
%L'utente è in grado di:
%%
%\begin{itemize}
%    \item inizializzare una partita;
%    \item applicare delle \textit{move} ad un \textit{game state};
%    \item interrompere una partita;
%    \item inizializzare una partita.
%\end{itemize}
%
%Per uno sviluppatore che utilizzerà la libreria sarà possibile specificare:

% \begin{itemize}
%     \item le componenti del gioco e le loro caratteristiche;
%     \item le regole del gioco:
%     \begin{itemize}
%         \item insieme delle \textit{move} disponibili;
%         \item condizioni che determinano la validità di una \textit{move};
%         \item conseguenze dell'esecuzione di una \textit{move} sul \textit{game state};
%     \end{itemize}
%     \item lo svolgimento del gioco, tra cui:
%     \begin{itemize}
%         \item lo stato iniziale;
%         \item le condizioni di avanzamento;
%         \item le condizioni di terminazione;
%     \end{itemize}
%     \item la modalità con cui l'input dell'utente finale viene convertito in \textit{move}. % TODO da sistemare
% \end{itemize}

\subsection{Funzionali}

% TODO intro della sezione
La libreria implementerà le funzionalità base che, opportunamente composte, creano un gioco con un determinato insieme di regole.

La libreria supporta:
%
\begin{itemize}
    \item diversi tipi di \textit{pawn} a patto che abbiamo uno specifico sopratipo comune;
    \item diversi tipi di \textit{tile} a patto che abbiamo uno specifico sopratipo comune;
    \item \textit{board} di qualsiasi genere, fornendo gli strumenti per definirne i confini fisici;
    \item \textit{board} in grado di fornire azioni per:
          \begin{itemize}
              \item l'inserimento di un \textit{pawn} su una \textit{tile};
              \item la rimozione di un \textit{pawn} da una \textit{tile}.
          \end{itemize}
    \item la definizione di \textit{move} come applicazione di una o più azioni al \textit{game state};
    \item la definizione di un \textit{game flow} che specifica il modo in cui il gioco si evolve;
    \item la definizione del \textit{game state} iniziale a partire da una \textit{board} e da un \textit{game flow};
    \item la definizione della \textit{game description} che è in grado di generare il \textit{game state} iniziale.
\end{itemize}
%
Data la descrizione complessiva del gioco, la libreria fornirà le astrazioni per effettuare le seguenti operazioni:
%
\begin{itemize}
    \item inizializzazione di una partita, che partendo da una \textit{game description} crea il \textit{game state} di partenza;
    \item fornita una \textit{move} questa verrà applicata al gioco in base al suo \textit{game state} corrente.
\end{itemize}

\subsection{Non funzionali}

% TODO intro della sezione


\subsection{Di implementazione}

La libreria dovrà essere sviluppata in scala, e la sua correttezza sarà verificata tramite testing automatizzato utilizzando \textbf{scalatest}.